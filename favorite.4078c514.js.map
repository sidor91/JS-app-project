{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SCkDA,MAAMC,EAAiBC,SAASC,cAAc,oBACxCC,EAAYF,SAASC,cAAc,QACnCE,EAAcH,SAASC,cAAc,gBACrCG,EAAeJ,SAASC,cAAc,iBAE5CF,EAAeM,iBAAiB,SAEhC,WACEH,EAAUI,UAAUC,OAAO,YAC3BJ,EAAYG,UAAUC,OAAO,kBAC7BH,EAAaE,UAAUC,OAAO,kBAEQ,SAAlCC,aAAaC,QAAQ,SACvBD,aAAaE,QAAQ,QAAS,QAE9BF,aAAaG,WAAW,Q,IAK5B,WACE,IACwC,SAAlCH,aAAaC,QAAQ,WACvBP,EAAUI,UAAUM,IAAI,YACxBb,EAAec,SAAU,EAKf,CAAZ,MAAOC,GAAK,C,CAGhBC,GD/E2B,IAAI,EAAAlB,EAAAmB,SAA/B,MAKMC,EAAmBjB,SAASC,cAAc,mBAEhD,IAAIiB,EAA2BV,aAAaC,QAAQ,YACpD,GAAIS,GAA4BA,EAAyBC,OAAQ,CAC/D,MACMC,EADaC,KAAKC,MAAMJ,GAE3BK,KAAIC,GACIA,EAAQC,SAGhBC,KAAK,IACRT,EAAiBU,UAAYP,C,CAI3BH,GACAA,EAAiBZ,iBACf,SAKN,SAAiBuB,GACb,IAAKA,EAAEC,OAAOC,WAAWxB,UAAUyB,SAAS,8BACxC,OAGJ,MACMC,EADcJ,EAAEC,OAAOI,QAAQ,oBACdC,QAAQF,GAC/BJ,EAAEC,OACCI,QAAQ,+BACN3B,UAAUC,OAAO,eAEtB,MAAM4B,EAAMjB,EAAyBkB,WAAUC,GAAQA,EAAKL,KAAOA,IAGnE,GAFAd,EAAyBoB,OAAOH,EAAK,GACrC3B,aAAaE,QAAQ,WAAYW,KAAKkB,UAAUrB,IAC5CA,EAAyBC,OAAQ,CACzC,MAAMC,EAAiBF,EACpBK,KAAIC,GACIA,EAAQC,SAGhBC,KAAK,IACRT,EAAiBU,UAAYP,C,MAErBH,EAAiBU,UAAY,4X,IAxBjCT,EAA2BG,KAAKC,MAAMJ","sources":["src/favorite.js","src/js/dark-light_theme.js"],"sourcesContent":["// import './js/localStorage';\nimport LocalStorageClass from './js/localStorage';\nimport './js/dark-light_theme';\n\nconst localStorageEntity = new LocalStorageClass();\n\n\n\n\nconst favoriteNewsList = document.querySelector('#favorite__news');\n\nlet localStorageFavoriteData = localStorage.getItem('favorite');\nif (localStorageFavoriteData && localStorageFavoriteData.length) {\n  const parsedData = JSON.parse(localStorageFavoriteData); // распарсенніе данные (массив объектов)\n  const favoriteMarkup = parsedData\n    .map(element => {\n      return element.markup;\n      // console.log(element.markup);\n    })\n    .join('');\n  favoriteNewsList.innerHTML = favoriteMarkup;\n}\n\n\nif (favoriteNewsList) {\n    favoriteNewsList.addEventListener(\n      'click', onClick\n    );\n}\n\n    localStorageFavoriteData = JSON.parse(localStorageFavoriteData);\nfunction onClick(e) {\n    if (!e.target.parentNode.classList.contains('item-news__add-to-favorite')) {\n        return;\n    } \n\n    const choosenNews = e.target.closest('.list-news__item'); // лишка\n    const id = choosenNews.dataset.id;\n    e.target // toggle class\n      .closest('.item-news__add-to-favorite')\n        .classList.toggle('hidden-span');\n\n    const idX = localStorageFavoriteData.findIndex(item => item.id === id);\n    localStorageFavoriteData.splice(idX, 1);\n    localStorage.setItem('favorite', JSON.stringify(localStorageFavoriteData));\n    if (localStorageFavoriteData.length) {\nconst favoriteMarkup = localStorageFavoriteData\n  .map(element => {\n    return element.markup;\n    // console.log(element.markup);\n  })\n  .join('');\nfavoriteNewsList.innerHTML = favoriteMarkup;\n    } else {\n        favoriteNewsList.innerHTML = `<section class=\"background\">\n    <div class=\"favorite-container container\">     \n        <p class=\"background___title\">We haven't found news from this category</p>\n        <picture>\n\n          <img class=\"background___picture\" src=\"https://i.ibb.co/cFdrWFz/desktop.png\" alt=\"background-picture\" width=\"248\" height=\"198\">\n        </picture>      \n    </div>\n  </section>`;\n    }\n    \n\n}\n\n\n// `          <source media=\"(max-width:767.99px)\" srcset=\"\n//                       ./images/mobile.png 248w,\n//                       ./images/mobile@2x.png 496w \n//                       \" sizes=\"248px\" />\n//           <source media=\"(max-width:1279.99px)\" srcset=\"\n//                       ./images/tablet.png 560w,\n//                       ./images/tablet@2x.png 1120w\n//                       \" sizes=\"560px\" />\n//           <source media=\"(min-width:1280px)\" srcset=\"\n//                       ./images/desktop.png 601w,\n//                       ./images/desktop@2x.png 1202w\n//                       \" sizes=\"601px\" />`;\n\n\n//  console.log(favoriteContainer);\n\n","// window.addEventListener('load', windowLoad);\n\n// function windowLoad() {\n//   const htmlBlock = document.documentElement;\n\n//   const saveUserTheme = localStorage.getItem('user-theme');\n\n//   let userTheme;\n//   if (window.matchMedia) {\n//     userTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n//       ? 'dark'\n//       : 'light';\n//   }\n//   window\n//     .matchMedia('(prefers-color-scheme: dark)')\n//     .addEventListener('change', e => {\n//       !saveUserTheme ? changeTheme() : null;\n//     });\n\n//   const themeButton = document.querySelector('.switch-checkbox');\n//   if (themeButton) {\n//     themeButton.addEventListener('click', function (e) {\n//       changeTheme(true);\n//     });\n//   }\n// }\n\n// function setThemeClass() {\n//   if (saveUserTheme) {\n//     htmlBlock.classList.add(saveUserTheme);\n//   } else {\n//     htmlBlock.classList.add(userTheme);\n//   }\n// }\n\n// setThemeClass();\n\n// function changeTheme(saveTheme = false) {\n//   let currentTheme = htmlBlock.classList.contains('light') ? 'light' : 'dark';\n//   let newTheme;\n\n//   if (currentTheme === 'light') {\n//     newTheme = 'dark';\n//   } else if (currentTheme === 'dark') {\n//     newTheme = 'light';\n//   }\n//   htmlBlock.classList.remove(currentTheme);\n//   htmlBlock.classList.add(newTheme);\n//   saveTheme ? localStorage.setItem('user-theme', newTheme) : null;\n// }\n\nconst changeThemeBtn = document.querySelector('.switch-checkbox');\nconst bodyTheme = document.querySelector('body');\nconst themeDarkEl = document.querySelector('.theme__dark');\nconst themeLightEl = document.querySelector('.theme__light');\n\nchangeThemeBtn.addEventListener('click', changeTheme);\n\nfunction changeTheme() {\n  bodyTheme.classList.toggle('darkMode');\n  themeDarkEl.classList.toggle('opacityForDark');\n  themeLightEl.classList.toggle('opacityForDark');\n  // localStorage.setItem('theme', 'dark');\n  if (localStorage.getItem('theme') !== 'dark') {\n    localStorage.setItem('theme', 'dark');\n  } else {\n    localStorage.removeItem('theme');\n  }\n  // addDarkClassToHTML();\n}\n\nfunction addDarkClassToHTML() {\n  try {\n    if (localStorage.getItem('theme') === 'dark') {\n      bodyTheme.classList.add('darkMode');\n      changeThemeBtn.checked = true;\n    }\n    // else {\n    //   bodyTheme.classList.remove('theme-dark');\n    // }\n  } catch (err) {}\n}\n\naddDarkClassToHTML();\n"],"names":["$hbtSd","parcelRequire","$7a3f7031947b2328$var$changeThemeBtn","document","querySelector","$7a3f7031947b2328$var$bodyTheme","$7a3f7031947b2328$var$themeDarkEl","$7a3f7031947b2328$var$themeLightEl","addEventListener","classList","toggle","localStorage","getItem","setItem","removeItem","add","checked","err","$7a3f7031947b2328$var$addDarkClassToHTML","default","$f2929da3ca31033d$var$favoriteNewsList","$f2929da3ca31033d$var$localStorageFavoriteData","length","favoriteMarkup","JSON","parse","map","element","markup","join","innerHTML","e","target","parentNode","contains","id","closest","dataset","idX","findIndex","item","splice","stringify"],"version":3,"file":"favorite.4078c514.js.map"}