const e=window.matchMedia("screen and (max-width: 767px)").matches,t=window.matchMedia("screen and (min-width: 768px) and (max-width: 1279px)").matches,s=window.matchMedia("screen and (min-width: 1280px)").matches;function c(c,r){const n=c.map((({abstract:e,lead_paragraph:t,multimedia:s})=>{let c="https://img.freepik.com/free-vector/internet-network-warning-404-error-page-or-file-not-found-for-web-page_1150-48326.jpg?w=996&t=st=1676297842~exp=1676298442~hmac=6cad659e6a3076ffcb73bbb246c4f7e5e1bf7cee7fa095d67fcced0a51c2405c";return 0!==s.length&&(c=`https://static01.nyt.com/${s[0].url}`),`<div class="news__item">\n    <img src=${c} alt="image" class="news__image"/>\n      <div class="info">\n     <h3>${e}</h3>\n      <p>${t}</p>\n      </div>\n  </div>\n      `}));if(!0===e){n.splice(0,0,'<div class="weather"></div>');const e=n.map((e=>e)).join("");r.innerHTML=e}else if(!0===t){n.splice(1,0,'<div class="weather"></div>');const e=n.map((e=>e)).join("");r.innerHTML=e}else if(!0===s){n.splice(2,0,'<div class="weather"></div>');const e=n.map((e=>e)).join("");r.innerHTML=e}}function r(c,r,n,a){const o=c.slice(n,a).map((({title:e,abstract:t,media:s})=>{let c="https://img.freepik.com/free-vector/internet-network-warning-404-error-page-or-file-not-found-for-web-page_1150-48326.jpg?w=996&t=st=1676297842~exp=1676298442~hmac=6cad659e6a3076ffcb73bbb246c4f7e5e1bf7cee7fa095d67fcced0a51c2405c";return 0!==s.length&&(c=s[0]["media-metadata"][2].url),`<div class="news__item">\n      <img src=${c}\n alt="image" class="news__image"/>\n      <div class="info">\n     <h3>${e}</h3>\n      <p>${t}</p>\n      </div>\n  </div>`}));if(!0===e){o.splice(0,0,'<div class="weather"></div>');const e=o.map((e=>e)).join("");r.innerHTML=e}else if(!0===t){o.splice(1,0,'<div class="weather"></div>');const e=o.map((e=>e)).join("");r.innerHTML=e}else if(!0===s){o.splice(2,0,'<div class="weather"></div>');const e=o.map((e=>e)).join("");r.innerHTML=e}}function n(c,r,n,a){const o=c.slice(n,a).map((({title:e,abstract:t,multimedia:s})=>{let c="https://img.freepik.com/free-vector/internet-network-warning-404-error-page-or-file-not-found-for-web-page_1150-48326.jpg?w=996&t=st=1676297842~exp=1676298442~hmac=6cad659e6a3076ffcb73bbb246c4f7e5e1bf7cee7fa095d67fcced0a51c2405c";return s&&(c=`${s[2].url}`),`<div class="news__item">\n      <img src=${c}\n alt="image" class="news__image"/>\n      <div class="info">\n     <h3>${e}</h3>\n      <p>${t}</p>\n      </div>\n  </div>`}));if(!0===e){o.splice(0,0,'<div class="weather"></div>');const e=o.map((e=>e)).join("");r.innerHTML=e}else if(!0===t){o.splice(1,0,'<div class="weather"></div>');const e=o.map((e=>e)).join("");r.innerHTML=e}else if(!0===s){o.splice(2,0,'<div class="weather"></div>');const e=o.map((e=>e)).join("");r.innerHTML=e}}const a=window.matchMedia("screen and (max-width: 767px)").matches,o=window.matchMedia("screen and (min-width: 768px) and (max-width: 1279px)").matches,l=window.matchMedia("screen and (min-width: 1280px)").matches,i=new class{async fetchNewsBySearch(){return(await fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${this.searchQuery}&page=${this.page}&api-key=${this.key}`)).json()}async fetchCategoriesList(){const e=await fetch(`https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=${this.key}`);return(await e.json()).results}async fetchNewsByCategory(){return(await fetch(`https://api.nytimes.com/svc/news/v3/content/all/${this.category}.json?api-key=${this.key}`)).json()}async fetchNewsByMostPopular(){const e=await fetch(`https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=${this.key}`);return await e.json()}incrementPage(){this.page+=1}decrementPage(){this.page>0&&(this.page-=1)}resetPage(){this.page=0}constructor(){this.searchQuery="",this.category="",this.date="",this.key="ttibAwM4O4DleGl9I7vunskaBg8WG7A3",this.page=0}},h=document.querySelector(".news-list"),u=document.querySelector(".search-form"),f=document.querySelector(".prev__page"),y=document.querySelector(".next__page"),d=document.querySelector(".categories__list"),p=document.querySelector(".other-categories__button"),w=document.querySelector(".other-categories__thumb");document.querySelector(".weather");d.addEventListener("click",g),w.addEventListener("click",g),p.addEventListener("click",(function(){w.classList.toggle("is-hidden")})),f.addEventListener("click",(async function(){if(!0===a){if(""!==u.elements.searchQuery.value&&0===i.page)return;if(""!==u.elements.searchQuery.value&&0!==i.page){i.decrementPage();try{c((await i.fetchNewsBySearch()).response.docs,h),scroll(0,0)}catch(e){console.log(e)}}else if(""!==i.category){if(1===m)return;2===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,0,4),scroll(0,0),m-=1})):3===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,4,8),scroll(0,0),m-=1})):4===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,8,12),scroll(0,0),m-=1})):5===m&&i.fetchNewsByCategory().then((e=>{n(e.results,h,12,16),scroll(0,0),m-=1}))}else{if(1===m)return;2===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,0,4),scroll(0,0),m-=1})):3===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,4,8),scroll(0,0),m-=1})):4===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,8,12),scroll(0,0),m-=1})):5===m&&i.fetchNewsByMostPopular().then((e=>{r(e.results,h,12,16),scroll(0,0),m-=1}))}}else if(!0===o){if(""!==u.elements.searchQuery.value&&0===i.page)return;if(""!==u.elements.searchQuery.value&&0!==i.page){i.decrementPage();try{c((await i.fetchNewsBySearch()).response.docs,h),scroll(0,0)}catch(e){console.log(e)}}else if(""!==i.category){if(1===m)return;2===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,0,7),scroll(0,0),m-=1})):3===m&&i.fetchNewsByCategory().then((e=>{n(e.results,h,7,14),scroll(0,0),m-=1}))}else{if(1===m)return;2===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,0,7),scroll(0,0),m-=1})):3===m&&i.fetchNewsByMostPopular().then((e=>{r(e.results,h,7,14),scroll(0,0),m-=1}))}}else if(!0===l){if(""!==u.elements.searchQuery.value&&0===i.page)return;if(""!==u.elements.searchQuery.value&&0!==i.page){i.decrementPage();try{c((await i.fetchNewsBySearch()).response.docs,h),scroll(0,0)}catch(e){console.log(e)}}else if(""!==i.category){if(1===m)return;2===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,0,7),scroll(0,0),m-=1})):3===m&&i.fetchNewsByCategory().then((e=>{n(e.results,h,7,14),scroll(0,0),m-=1}))}else{if(1===m)return;2===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,0,8),scroll(0,0),m-=1})):3===m&&i.fetchNewsByMostPopular().then((e=>{r(e.results,h,8,16),scroll(0,0),m-=1,console.log(m)}))}}})),y.addEventListener("click",(async function(){if(!0===a)if(""!==u.elements.searchQuery.value)try{i.incrementPage();const e=await i.fetchNewsBySearch();console.log(e.response),c(e.response.docs,h),scroll(0,0)}catch(e){console.log(e)}else""!==i.category?1===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,4,8),scroll(0,0),m+=1})):2===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,8,12),scroll(0,0),m+=1})):3===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,12,16),scroll(0,0),m+=1})):4===m&&i.fetchNewsByCategory().then((e=>{n(e.results,h,16,20),scroll(0,0),m+=1})):1===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,4,8),scroll(0,0),m+=1})):2===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,8,12),scroll(0,0),m+=1})):3===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,12,16),scroll(0,0),m+=1})):4===m&&i.fetchNewsByMostPopular().then((e=>{r(e.results,h,16,20),scroll(0,0),m+=1}));if(!0===o)if(""!==u.elements.searchQuery.value)try{i.incrementPage();const e=await i.fetchNewsBySearch();console.log(e.response),c(e.response.docs,h),scroll(0,0)}catch(e){console.log(e)}else""!==i.category?1===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,7,14),scroll(0,0),m+=1})):2===m&&i.fetchNewsByCategory().then((e=>{n(e.results,h,14,20),scroll(0,0),m+=1})):1===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,7,14),scroll(0,0),m+=1})):2===m&&i.fetchNewsByMostPopular().then((e=>{r(e.results,h,14,20),scroll(0,0),m+=1}));if(!0===l)if(""!==u.elements.searchQuery.value)try{i.incrementPage();const e=await i.fetchNewsBySearch();console.log(e.response),c(e.response.docs,h),scroll(0,0)}catch(e){console.log(e)}else""!==i.category?1===m?i.fetchNewsByCategory().then((e=>{n(e.results,h,8,16),scroll(0,0),m+=1})):2===m&&i.fetchNewsByCategory().then((e=>{n(e.results,h,16,20),scroll(0,0),m+=1})):1===m?i.fetchNewsByMostPopular().then((e=>{r(e.results,h,8,16),scroll(0,0),m+=1})):2===m&&i.fetchNewsByMostPopular().then((e=>{r(e.results,h,16,20),scroll(0,0),m+=1}))})),u.addEventListener("submit",(async function(e){e.preventDefault(),m=1,i.searchQuery=encodeURIComponent(`${e.currentTarget.elements.searchQuery.value}`);try{const e=await i.fetchNewsBySearch();c(e.response.docs,h),scroll(0,0),console.log(i.searchQuery),console.log(e.response.docs)}catch(e){console.log(e)}})),i.fetchNewsByMostPopular().then((e=>{!0===a&&(console.log(e.results),r(e.results,h,0,4)),!0===o&&(console.log(e.results),r(e.results,h,0,7)),!0===l&&(console.log(e.results),r(e.results,h,0,8))})),async function(){const e=await i.fetchCategoriesList();console.log(e);for(let t=0;t<6;t+=1)d.children[t].textContent=`${e[t].display_name}`,d.children[t].setAttribute("name",`${e[t].display_name}`);for(let t=6;t<=49;t+=1){const s=document.createElement("button");s.classList.add("other-category__item"),s.textContent=`${e[t].display_name}`,s.setAttribute("name",`${e[t].display_name}`),w.append(s)}}();let m=1;async function g(e){m=1,i.category=encodeURIComponent(e.target.getAttribute("name").toLowerCase()),console.log(i.category);await i.fetchNewsByCategory().then((e=>{console.log(e.results),!0===a&&n(e.results,h,0,4),!0===o&&n(e.results,h,0,7),!0===l&&n(e.results,h,0,8)}))}
//# sourceMappingURL=index.1afbceb8.js.map
