!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return n.default(e)};var r,n=(r=a("8NIkP"))&&r.__esModule?r:{default:r}})),a.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}})),a.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),a.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return n.default(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n.default(e,t)};var r,n=(r=a("8NIkP"))&&r.__esModule?r:{default:r}}));var c=a("bpxeT"),o=a("2TvXO"),s=document.querySelector(".switch-checkbox"),i=document.querySelector("body"),u=document.querySelector(".theme__dark"),l=document.querySelector(".theme__light");s.addEventListener("click",(function(){i.classList.toggle("darkMode"),u.classList.toggle("opacityForDark"),l.classList.toggle("opacityForDark"),"dark"!==localStorage.getItem("theme")?localStorage.setItem("theme","dark"):localStorage.removeItem("theme")})),function(){try{"dark"===localStorage.getItem("theme")&&(i.classList.add("darkMode"),s.checked=!0)}catch(e){}}();var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e){return p.default(e)||f.default(e)||m.default(e)||h.default()};var p=g(a("kMC0W")),f=g(a("7AJDX")),h=g(a("8CtQK")),m=g(a("auk6i"));function g(e){return e&&e.__esModule?e:{default:e}}var y,v=document.querySelector(".days"),w=document.querySelector(".current-date"),b=document.querySelectorAll(".calendar-icons span"),k=new Date,x=(k.getDate(),k.getMonth()),_=k.getFullYear();(y={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("body"),modal:document.querySelector("[data-modal]"),input:document.querySelector(".calendar-input"),arrow:document.querySelector(".calendar__button-arrow"),calendarBtn:document.querySelector(".calendar__button-calendar")}).openModalBtn.addEventListener("click",(function(){y.modal.classList.toggle("is-hidden-wrapper"),y.input.classList.toggle("isActive"),y.arrow.classList.toggle("switched"),y.calendarBtn.classList.toggle("switchedColor")})),document.addEventListener("click",(function(e){document.getElementById("input-picker").value,e.target.closest(".calendar-form")||y.input.classList.contains("isActive")&&(y.modal.classList.add("is-hidden-wrapper"),y.input.classList.remove("isActive"),y.arrow.classList.remove("switched"),y.calendarBtn.classList.remove("switchedColor"),document.getElementById("input-picker").value="",localStorage.removeItem("VALUE"),localStorage.removeItem("date"))}));var S=["January","February","March","April","May","June","July","August","September","October","November","December"],L=function(t){for(var r=new Date(_,x,1).getDay(),n=new Date(_,x+1,0).getDate(),a=new Date(_,x,n).getDay(),c=new Date(_,x,0).getDate(),o="",s=r;s>0;s--)o+='<li style="color: silver" class="inactive">'.concat(c-s+1,"</li>");for(var i=1;i<=n;i++){var u=i===k.getDate()&&x===(new Date).getMonth()&&_===(new Date).getFullYear();o+='<li class="'.concat(u,'">').concat(i,"</li>")}for(var l=a;l<6;l++)o+='<li style="color: silver" class="inactive">'.concat(l-a+1,"</li>");w.innerText="".concat(S[x]," ").concat(_),v.innerHTML=o,document.querySelector(".days").addEventListener("click",(function(t){e(d)(t.currentTarget.children).forEach((function(e){e.classList.remove("active")})),t.target.classList.add("active");var r=t.target.textContent;if(!(t.target.textContent.length>10)){var n=(x+1).toString();document.getElementById("input-picker").value=_+"/"+n.padStart(2,"0")+"/"+r.padStart(2,"0"),localStorage.setItem("VALUE",JSON.stringify(r));var a=document.querySelector(".calendar-input").value;localStorage.setItem("date",JSON.stringify(a)),document.querySelector("[data-modal]").classList.add("is-hidden-wrapper"),document.querySelector(".calendar-input").classList.remove("isActive"),document.querySelector(".calendar__button-arrow").classList.remove("switched"),document.querySelector(".calendar__button-calendar").classList.remove("switchedColor")}}))};L();document.querySelector(".days");b.forEach((function(e){e.addEventListener("click",(function(){(x="prev"===e.id?x-1:x+1)<0||x>11?(k=new Date(_,x,(new Date).getDate()),_=k.getFullYear(),x=k.getMonth()):k=new Date,L();var t=JSON.parse(localStorage.getItem("VALUE"));v.childNodes.forEach((function(e){e.textContent===t&&e.classList.add("active")}))}))})),localStorage.removeItem("VALUE"),localStorage.removeItem("date"),document.querySelector(".category__others-container").addEventListener("click",(function(e){e.currentTarget.classList.toggle("is-open")}));c=a("bpxeT");var A=a("8MBJY"),q=a("a2hTj"),M=(o=a("2TvXO"),new(0,(E=a("4Y2n8")).default),function(){"use strict";function t(){e(A)(this,t),this.KEY="03c5762bdc5b910c3c4c3d1ef326933c",this.latitude=50.4333,this.longitude=30.5167,this.markup=""}return e(q)(t,[{key:"askGeo",value:function(){window.navigator.geolocation.getCurrentPosition(this.onSuccess.bind(this))}},{key:"onSuccess",value:function(e){var t=document.querySelector(".weather__temp"),r=document.querySelector(".weather__descr"),n=document.querySelector(".city-name"),a=document.querySelector(".weather__img"),c=document.querySelector(".day-week"),o=document.querySelector(".local-date");this.latitude=e.coords.latitude,this.longitude=e.coords.longitude,this.getWeather(this.latitude,this.longitude).then((function(e){n.textContent=e.name,t.textContent="".concat((e.main.temp/100).toFixed(),"°"),r.textContent=e.weather[0].main,a.setAttribute("src","https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@4x.png"));var s=(new Date).toDateString();c.textContent=s.slice(0,4),o.textContent=s.slice(4,s.length)}))}},{key:"getWeather",value:function(t,r){var n=this;return e(c)(e(o).mark((function a(){var c,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?appid=".concat(n.KEY,"&lat=").concat(t,"&lon=").concat(r));case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),a)})))()}},{key:"renderWeatherElement",value:function(e){var t=e.weather,r=e.main.temp,n=e.name,a=Math.abs((r/100).toFixed()),c=(new Date).toDateString(),o=c.slice(0,4),s=c.slice(4,c.length);this.markup='<li class="weather list-news__item">\n        <div class="weather__info">\n        <span class="weather__temp">'.concat(a,'°</span>\n        <div>\n        <span class="weather__descr">').concat(t[0].main,'</span>\n        <div class="weather__city">\n        <svg viewBox="0 0 37 32">\n        <path\n        d="M12.164 0.881c-6.557 0.008-11.871 5.321-11.88 11.878v0.001c0 0.005 0 0.012 0 0.018 0 2.685 0.9 5.16 2.414 7.14l-0.021-0.028s0.324 0.426 0.376 0.486l9.11 10.747 9.114-10.749c0.047-0.058 0.372-0.483 0.372-0.483l0.001-0.004c1.494-1.951 2.394-4.425 2.394-7.11 0-0.005 0-0.010 0-0.015v0.001c-0.007-6.559-5.322-11.874-11.88-11.881h-0.001zM12.164 17.080c-2.386 0-4.321-1.934-4.321-4.321s1.934-4.321 4.321-4.321v0c2.386 0 4.32 1.934 4.32 4.32s-1.934 4.32-4.32 4.32v0z">\n        </path>\n        </svg>\n        <span class="city-name">').concat(n,'</span>\n        </div>\n        </div>\n        </div>\n        <img class="weather__img" src="https://openweathermap.org/img/wn/').concat(t[0].icon,'@4x.png" alt="Weather icon">\n        <div class="weather__date">\n        <p class="day-week">').concat(o,'</p>\n        <p class="local-date">').concat(s,'</p>\n        </div>\n        <a class="weather__link" href="https://ua.sinoptik.ua/" target="_blank" rel="noreferrer noopener">weather for week</a>\n        </li>')}}]),t}());a("cs7FV");var C=a("kgFuD"),P=(c=a("bpxeT"),A=a("8MBJY"),q=a("a2hTj"),o=a("2TvXO"),function(){"use strict";function t(){e(A)(this,t),this.searchQuery="",this.category="",this.date="",this.key="ttibAwM4O4DleGl9I7vunskaBg8WG7A3",this.page=0}return e(q)(t,[{key:"fetchNewsBySearch",value:function(){var t=this;return e(c)(e(o).mark((function r(){var n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.nytimes.com/svc/search/v2/articlesearch.json",e.next=3,fetch("".concat("https://api.nytimes.com/svc/search/v2/articlesearch.json","?q=").concat(t.searchQuery,"&page=").concat(t.page,"&api-key=").concat(t.key));case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),r)})))()}},{key:"fetchCategoriesList",value:function(){var t=this;return e(c)(e(o).mark((function r(){var n,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.nytimes.com/svc/news/v3/content/section-list.json",e.next=3,fetch("".concat("https://api.nytimes.com/svc/news/v3/content/section-list.json","?api-key=").concat(t.key));case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a.results);case 8:case"end":return e.stop()}}),r)})))()}},{key:"fetchNewsByCategory",value:function(){var t=this;return e(c)(e(o).mark((function r(){var n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.nytimes.com/svc/news/v3/content/all/",e.next=3,fetch("".concat("https://api.nytimes.com/svc/news/v3/content/all/").concat(t.category,".json?api-key=").concat(t.key));case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),r)})))()}},{key:"fetchNewsByMostPopular",value:function(){var t=this;return e(c)(e(o).mark((function r(){var n,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json",e.next=3,fetch("".concat("https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json","?api-key=").concat(t.key));case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),r)})))()}},{key:"incrementPage",value:function(){this.page+=1}},{key:"decrementPage",value:function(){this.page>0&&(this.page-=1)}},{key:"resetPage",value:function(){this.page=0}}]),t}()),E=a("4Y2n8"),D=(C=a("kgFuD"),window.matchMedia("screen and (max-width: 767px)").matches,window.matchMedia("screen and (min-width: 768px) and (max-width: 1279px)").matches,window.matchMedia("screen and (min-width: 1280px)").matches,document.querySelector(".current-date"),new(0,C.default)),N=new M,j=new(0,E.default),B=new P,I=document.querySelector(".list-news"),O=document.querySelector(".search-field"),T=document.querySelector(".prev__page"),Q=document.querySelector(".next__page"),F=document.querySelector(".category__list-bt"),U=(document.querySelector(".category__item-bt-arrow"),document.querySelector(".filter-category__list"));document.querySelector(".category__others-container");function X(){return(X=e(c)(e(o).mark((function t(){var r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===O.elements.searchQuery.value){e.next=20;break}if(0!==B.currentPage){e.next=5;break}return e.abrupt("return");case 5:return B.decrementPage(),e.prev=6,e.next=9,B.fetchNewsBySearch();case 9:K(e.sent.response.docs),j.renderNewsbyASearchQX(D.popularArr,I),scroll(0,0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0);case 18:e.next=56;break;case 20:if(""===B.category){e.next=39;break}if(1!==j.currentPage){e.next=25;break}return e.abrupt("return");case 25:return j.currentPage-=1,e.prev=26,e.next=29,B.fetchNewsByCategory();case 29:r=e.sent,j.renderCategoryNews(r.results,I),scroll(0,0),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(26),console.log(e.t1);case 37:e.next=56;break;case 39:if(1!==j.currentPage){e.next=43;break}return e.abrupt("return");case 43:return j.currentPage-=1,e.prev=44,e.next=47,B.fetchNewsByMostPopular();case 47:K(e.sent.results),j.renderPopularNewsQX(D.popularArr,I),scroll(0,0),e.next=56;break;case 53:e.prev=53,e.t2=e.catch(44),console.log(e.t2);case 56:case"end":return e.stop()}}),t,null,[[6,15],[26,34],[44,53]])})))).apply(this,arguments)}function J(){return(J=e(c)(e(o).mark((function t(){var r,n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===O.elements.searchQuery.value){e.next=17;break}return e.prev=1,B.incrementPage(),e.next=5,B.fetchNewsBySearch();case 5:r=e.sent,console.log(r.response),K(r.response.docs),j.renderNewsbyASearchQX(D.popularArr,I),scroll(0,0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:e.next=53;break;case 17:if(""===B.category){e.next=36;break}if(j.currentPage!==j.maxPages){e.next=22;break}return e.abrupt("return");case 22:return j.currentPage+=1,e.prev=23,e.next=26,B.fetchNewsByCategory();case 26:n=e.sent,j.renderCategoryNews(n.results,I),scroll(0,0),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(23),console.log(e.t1);case 34:e.next=53;break;case 36:if(j.currentPage!==j.maxPages){e.next=40;break}return e.abrupt("return");case 40:return j.currentPage+=1,e.prev=41,e.next=44,B.fetchNewsByMostPopular();case 44:K(e.sent.results),j.renderPopularNewsQX(D.popularArr,I),scroll(0,0),e.next=53;break;case 50:e.prev=50,e.t2=e.catch(41),console.log(e.t2);case 53:case"end":return e.stop()}}),t,null,[[1,12],[23,31],[41,50]])})))).apply(this,arguments)}function R(){return(R=e(c)(e(o).mark((function t(r){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),j.currentPage=1,B.searchQuery=encodeURIComponent("".concat(r.currentTarget.elements.searchQuery.value)),e.prev=3,e.next=6,B.fetchNewsBySearch();case 6:K(e.sent.response.docs),j.renderNewsbyASearchQX(D.popularArr,I),console.log(D.popularArr),scroll(0,0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),t,null,[[3,13]])})))).apply(this,arguments)}function W(e){return Y.apply(this,arguments)}function Y(){return(Y=e(c)(e(o).mark((function t(r){var n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.currentPage=1,r.target.hasAttribute("name")){e.next=3;break}return e.abrupt("return");case 3:return B.category=encodeURIComponent(r.target.getAttribute("name").toLowerCase()),console.log(B.category),e.prev=5,e.next=8,B.fetchNewsByCategory();case 8:n=e.sent,j.renderCategoryNews(n.results,I),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[5,12]])})))).apply(this,arguments)}function V(){return(V=e(c)(e(o).mark((function t(){var r,n,a,c,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.fetchCategoriesList();case 2:for(r=e.sent,n=0;n<6;n+=1)F.children[n].textContent="".concat(r[n].display_name),F.children[n].setAttribute("name","".concat(r[n].display_name));for(a=6;a<=49;a+=1)c=document.createElement("li"),s=document.createElement("button"),c.classList.add("filter-category__item"),s.classList.add("filter-category__button"),c.append(s),s.textContent="".concat(r[a].display_name),s.setAttribute("name","".concat(r[a].display_name)),U.append(c);case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function G(){return(G=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getWeather(N.latitude,N.longitude).then((function(e){N.renderWeatherElement(e),j.weatherMarkup=N.markup})).catch((function(e){return console.log(e)}));case 2:B.fetchNewsByMostPopular().then((function(e){N.askGeo(),K(e.results),j.renderPopularNewsQX(D.popularArr,I)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function K(e){D.popularArr=[],e.map((function(e){if(""!==O.elements.searchQuery.value)if(0!==e.multimedia.length){D.popularArr.push({id:e.id||"",category:e.section_name,title:e.abstract.trim(),desc:e.lead_paragraph,date:e.pub_date,url:e.web_url,imageURL:"".concat("https://static01.nyt.com/").concat(e.multimedia[0].url)})}else D.popularArr.push({id:e.id||"",category:e.section_name,title:e.abstract.trim(),desc:e.lead_paragraph,date:e.pub_date,url:e.web_url,imageURL:"https://img.freepik.com/free-vector/internet-network-warning-404-error-page-or-file-not-found-for-web-page_1150-48326.jpg?w=996&t=st=1676297842~exp=1676298442~hmac=6cad659e6a3076ffcb73bbb246c4f7e5e1bf7cee7fa095d67fcced0a51c2405c"});else Object.values(e.media).length?D.popularArr.push({id:e.id,category:e.section,title:e.title,desc:e.abstract,date:e.published_date,url:e.url,imageURL:e.media[0]["media-metadata"][2].url}):D.popularArr.push({id:e.id,title:e.title,desc:e.abstract,date:e.published_date,category:e.section,url:e.url,imageURL:"https://img.freepik.com/free-vector/internet-network-warning-404-error-page-or-file-not-found-for-web-page_1150-48326.jpg?w=996&t=st=1676297842~exp=1676298442~hmac=6cad659e6a3076ffcb73bbb246c4f7e5e1bf7cee7fa095d67fcced0a51c2405c"})}))}document.querySelector(".days").addEventListener("click",(function(e){B.date=e.target.textContent})),F.addEventListener("click",W),U.addEventListener("click",W),T.addEventListener("click",(function(){return X.apply(this,arguments)})),Q.addEventListener("click",(function(){return J.apply(this,arguments)})),O.addEventListener("submit",(function(e){return R.apply(this,arguments)})),I.addEventListener("click",D.onAddToFavoriteClick.bind(D)),I.addEventListener("click",D.onReadMoreClick.bind(D)),function(){G.apply(this,arguments)}(),function(){V.apply(this,arguments)}()}();
//# sourceMappingURL=index.630fe39b.js.map
